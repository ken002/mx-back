(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/version/addVersion/addVersion"],{3138:function(t,e,n){"use strict";(function(t){n("31b3"),n("921b");a(n("66fd"));var e=a(n("487a"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"487a":function(t,e,n){"use strict";n.r(e);var a=n("e072"),r=n("528d");for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);var u=n("2877"),i=Object(u["a"])(r["default"],a["a"],a["b"],!1,null,null,null);e["default"]=i.exports},"528d":function(t,e,n){"use strict";n.r(e);var a=n("f483"),r=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=r.a},e072:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r})},f483:function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,a,r,o,u){try{var i=t[o](u),s=i.value}catch(l){return void n(l)}i.done?e(s):Promise.resolve(s).then(a,r)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){u(o,a,r,i,s,"next",t)}function s(t){u(o,a,r,i,s,"throw",t)}i(void 0)})}}var s={mounted:function(){var e=this,n=document.createElement("input");n.type="file",n.onchange=function(n){console.log(t(n," at pages\\version\\addVersion\\addVersion.vue:25"));var a=n.target.files[0];e.uploadPackage(a)},this.$refs.input.$el.appendChild(n)},data:function(){return{form:{platform:1,appVersion:"",realAppVersion:"",updateContent:"",allUpdate:1,downloadUrl:""}}},methods:{switch1Change:function(t){t.target.value?this.form.platform=1:this.form.platform=0},switch2Change:function(t){t.target.value?this.form.allUpdate=1:this.form.allUpdate=0},uploadPackage:function(e){var n=this,a=new FormData;a.append("file",e);var r=new XMLHttpRequest;r.open("POST","".concat(this.$util.url,"api/upload"),!0),r.onload=function(e){console.log(t(e," at pages\\version\\addVersion\\addVersion.vue:66")),4===e.target.readyState&&200===e.target.status?(n.$util.toast("上传成功"),n.form.downloadUrl=JSON.parse(e.target.response).data.url):n.$util.toast("上传失败")},r.send(a)},confirm:function(){var e=i(r.default.mark(function e(){var n;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.form.realAppVersion){e.next=3;break}return this.$util.toast("请输入版本"),e.abrupt("return");case 3:if(""!==this.form.appVersion){e.next=6;break}return this.$util.toast("请输入版本值"),e.abrupt("return");case 6:if(""!==this.form.updateContent){e.next=9;break}return this.$util.toast("请输入更新内容"),e.abrupt("return");case 9:if(""!==this.form.downloadUrl){e.next=12;break}return this.$util.toast("请上传安装包"),e.abrupt("return");case 12:return e.next=14,this.$util.request({requestUrl:"api/version",method:"POST",data:this.form});case 14:n=e.sent,console.log(t("添加版本",n," at pages\\version\\addVersion\\addVersion.vue:100")),n&&(this.$util.toast("添加成功"),setTimeout(function(){a.navigateBack()},500));case 17:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()}};e.default=s}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["3138","common/runtime","common/vendor"]]]);