(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/selectProducts/selectProducts"],{1180:function(t,e,n){"use strict";(function(t){n("31b3"),n("921b");a(n("66fd"));var e=a(n("4b7f"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},1413:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r})},"4b7f":function(t,e,n){"use strict";n.r(e);var a=n("1413"),r=n("ce33");for(var u in r)"default"!==u&&function(t){n.d(e,t,function(){return r[t]})}(u);var s=n("2877"),i=Object(s["a"])(r["default"],a["a"],a["b"],!1,null,"a6812578",null);e["default"]=i.exports},6128:function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("a34a"));function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,a,r,u,s){try{var i=t[u](s),c=i.value}catch(o){return void n(o)}i.done?e(c):Promise.resolve(c).then(a,r)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var u=t.apply(e,n);function i(t){s(u,a,r,i,c,"next",t)}function c(t){s(u,a,r,i,c,"throw",t)}i(void 0)})}}var c={data:function(){return{items:[],page:1,btnShow:!0,name:""}},onShow:function(){this.productList()},methods:{searchProduct:function(){""!==this.name?(this.page=1,this.toSearch()):this.$util.toast("请输入商品名称关键字")},toSearch:function(){var e=i(r.default.mark(function e(){var n;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$util.request({requestUrl:"api/products",data:{limit:10,page:this.page,name:this.name,pType:null,online:null}});case 2:n=e.sent,console.log(t("关键字搜索：",n," at pages\\product\\selectProducts\\selectProducts.vue:57")),n&&n.data.data.length>0&&(n.data.data.length<10&&(this.btnShow=!1),1===this.page?this.items=n.data.data:this.items=this.items.concat(n.data.data));case 5:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),toDelete:function(){var e=i(r.default.mark(function e(n){var u=this;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a.showModal({title:"删除",content:"确定删除？",success:function(){var e=i(r.default.mark(function e(a){var s;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a.confirm){e.next=6;break}return e.next=3,u.$util.request({requestUrl:"api/products/"+n,method:"DELETE"});case 3:s=e.sent,console.log(t("删除商品：",s," at pages\\product\\selectProducts\\selectProducts.vue:82")),s&&(u.page=1,u.productList());case 6:case"end":return e.stop()}},e,this)}));function a(t){return e.apply(this,arguments)}return a}()});case 1:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),nextPage:function(){this.page++,this.productList()},toDetail:function(t){a.navigateTo({url:"/pages/product/addProduct/addProduct?id=".concat(t,"&type=modify")})},productList:function(){var e=i(r.default.mark(function e(){var n;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$util.request({requestUrl:"api/products",data:{limit:10,page:this.page,name:null,pType:null,online:null}});case 2:n=e.sent,console.log(t("查询商品列表：",n," at pages\\product\\selectProducts\\selectProducts.vue:111")),n&&(n.data.data.length<10&&(this.btnShow=!1),1===this.page?this.items=n.data.data:this.items=this.items.concat(n.data.data));case 5:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()}};e.default=c}).call(this,n("0de9")["default"],n("6e42")["default"])},ce33:function(t,e,n){"use strict";n.r(e);var a=n("6128"),r=n.n(a);for(var u in a)"default"!==u&&function(t){n.d(e,t,function(){return a[t]})}(u);e["default"]=r.a}},[["1180","common/runtime","common/vendor"]]]);