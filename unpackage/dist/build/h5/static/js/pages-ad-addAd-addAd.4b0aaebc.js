(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ad-addAd-addAd"],{7019:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-input",{attrs:{type:"text",placeholder:"输入说明"},model:{value:t.form.intro,callback:function(e){t.$set(t.form,"intro",e)},expression:"form.intro"}}),n("v-uni-image",{attrs:{src:t.form.image}}),n("v-uni-button",{on:{click:function(e){e=t.$handleEvent(e),t.uploadImage(e)}}},[t._v("上传图片")]),n("v-uni-button",{on:{click:function(e){e=t.$handleEvent(e),t.confirm(e)}}},[t._v(t._s(t.confirmBtnName))])],1)},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},ca60:function(t,e,n){"use strict";n.r(e);var r=n("e062"),i=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);e["default"]=i.a},e062:function(t,e,n){"use strict";var r=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=r(n("3b8d")),a={data:function(){return{form:{intro:"",image:""},confirmBtnName:"确定",type:null,id:null}},onLoad:function(t){console.log(t),this.type=t.type,this.id=t.id,"modify"===this.type&&(this.confirmBtnName="修改",this.selectDetail())},methods:{uploadImage:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$util.selectImage();case 2:return e=t.sent,t.next=5,this.$util.uploadImage(e);case 5:n=t.sent,this.form.image=n;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),confirm:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.form.intro){t.next=3;break}return this.$util.toast("请输入说明"),t.abrupt("return");case 3:if(""!==this.form.image){t.next=6;break}return this.$util.toast("请上传banner图"),t.abrupt("return");case 6:if("modify"!==this.type){t.next=14;break}return t.next=9,this.$util.request({requestUrl:"api/ad/"+this.id,method:"PUT",data:this.form});case 9:e=t.sent,console.log("修改广告",e),e&&(this.$util.toast("修改成功"),setTimeout(function(){uni.navigateBack()},500)),t.next=19;break;case 14:return t.next=16,this.$util.request({requestUrl:"api/ad",method:"POST",data:this.form});case 16:n=t.sent,console.log("添加广告",n),n&&(this.$util.toast("添加成功"),this.form={image:"",intro:""});case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),selectDetail:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$util.request({requestUrl:"api/ad/"+this.id});case 2:e=t.sent,console.log("查询广告",e),e&&(this.form=e.data.data);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}};e.default=a},e521:function(t,e,n){"use strict";n.r(e);var r=n("7019"),i=n("ca60");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);var u=n("2877"),o=Object(u["a"])(i["default"],r["a"],r["b"],!1,null,"77f11c02",null);e["default"]=o.exports}}]);